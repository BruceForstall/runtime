<Project>
  <PropertyGroup>
    <StaticLibPrefix>lib</StaticLibPrefix>
    <ExeSuffix Condition="'$(HostOS)' == 'windows'">.exe</ExeSuffix>
  </PropertyGroup>

  <!-- Add path globs specific to native binaries to exclude unnecessary files from packages. -->
  <Choose>
    <When Condition="$(PackageRID.StartsWith('win'))">
      <PropertyGroup>
        <LibSuffix>.dll</LibSuffix>
        <StaticLibSuffix>.lib</StaticLibSuffix>
        <SymbolsSuffix>.pdb</SymbolsSuffix>
        <SymbolsSuffixPath>.pdb</SymbolsSuffixPath>
        <SymbolsIsDirectory>false</SymbolsIsDirectory>
      </PropertyGroup>
    </When>
    <When Condition="$(PackageRID.StartsWith('osx')) or $(PackageRID.StartsWith('maccatalyst')) or $(PackageRID.StartsWith('ios')) or $(PackageRID.StartsWith('tvos'))">
      <PropertyGroup>
        <LibPrefix>lib</LibPrefix>
        <LibSuffix>.dylib</LibSuffix>
        <StaticLibSuffix>.a</StaticLibSuffix>
        <SymbolsSuffix>.dSYM</SymbolsSuffix>
        <SymbolsSuffixPath>.dSYM/**</SymbolsSuffixPath>
        <SymbolsIsDirectory>true</SymbolsIsDirectory>
      </PropertyGroup>
    </When>
    <Otherwise>
      <PropertyGroup>
        <LibPrefix>lib</LibPrefix>
        <LibSuffix>.so</LibSuffix>
        <StaticLibSuffix>.a</StaticLibSuffix>
        <SymbolsSuffix>.dbg</SymbolsSuffix>
        <SymbolsSuffixPath>.dbg</SymbolsSuffixPath>
        <SymbolsIsDirectory>false</SymbolsIsDirectory>
      </PropertyGroup>
    </Otherwise>
  </Choose>

  <ItemGroup>
    <!-- %2A is * so below is "**\*.pdb" for example -->
    <AdditionalLibPackageExcludes Condition="'$(SymbolsSuffixPath)' != ''" Include="%2A%2A\%2A$(SymbolsSuffixPath)" />
    <AdditionalSymbolPackageExcludes Condition="'$(LibSuffix)' != ''" Include="%2A%2A\%2A.a;%2A%2A\%2A$(LibSuffix)" />
  </ItemGroup>

</Project>
